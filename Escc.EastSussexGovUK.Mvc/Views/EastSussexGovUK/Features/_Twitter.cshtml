@using Escc.EastSussexGovUK.Features
@using Escc.EastSussexGovUK.Views
@model Escc.EastSussexGovUK.Mvc.BaseViewModel
@if (Model != null)
{
    if (!String.IsNullOrEmpty(Model.SocialMedia.TwitterAccount) && Model.EsccWebsiteView == EsccWebsiteView.Desktop)
    {
        @Html.Partial("~/Views/EastSussexGovUK/_FeatureDependency.cshtml", new TwitterWidget() { SocialMedia = Model.SocialMedia, EsccWebsiteView = Model.EsccWebsiteView })
        var twitterUrl = "https://twitter.com/" + Model.SocialMedia.TwitterAccount;
        <div class="large"><a class="twitter-timeline" href="@twitterUrl">Tweets by &#64;@Model.SocialMedia.TwitterAccount</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>
        <div class="small medium text-content content-small content-medium">
            <p class="twitter twitter-account">Read updates on Twitter: <a href="@twitterUrl">Tweets by &#64;@Model.SocialMedia.TwitterAccount</a></p>
        </div>
    }
    else if (Model.SocialMedia.TwitterWidgetScript != null && Model.EsccWebsiteView == EsccWebsiteView.Desktop)
    {
        @Html.Partial("~/Views/EastSussexGovUK/_FeatureDependency.cshtml", new TwitterWidget(true) {SocialMedia = Model.SocialMedia, EsccWebsiteView = Model.EsccWebsiteView})
        <div class="large">@Model.SocialMedia.TwitterWidgetScript</div>
    }
}
